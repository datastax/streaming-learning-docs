= Getting started with Starlight for JMS

:description: Learn how to get started using the Starlight for JMS API and get hands on with a producer and consumer interacting with a topic.
:title: Getting started with the Starlight for JMS
:navtitle: Starlight for JMS
:page-aliases: docs@starlight-jms::pulsar-jms-quickstart-astra.adoc,starlight-jms:streaming-learning:use-cases-architectures:starlight/jms/index.adoc
:page-tag: starlight-jms,dev,quickstart,pulsar,jms

Starlight for JMS is a highly compliant JMS implementation designed to run on a modern streaming platform. This guide will get you up and running with a simple Java JMS client that can talk to an Apache Pulsarâ„¢ streaming instance.

== Getting started

To get started you will need a working Apache Pulsar cluster.
No bells or whistles need to be added!
You'll need access to the cluster's admin port 8080 and the binary port 6650. For this guide, we will use Astra Streaming to get going quickly.

[tabs]
====
Astra Streaming::
+
--

If you don't have a tenant in Astra Streaming, follow our "xref:astra-streaming:getting-started:index.adoc[]" guide.

--
Luna Streaming::
+
--
Follow the "xref:luna-streaming:install-upgrade:quickstart-helm-installs.adoc[]" guide to get a cluster going.
--
Self Managed::
+
--
Using a standalone cluster? The Starlight for JMS docs provide the "xref:starlight-for-jms:jms-migration:pulsar-jms-quickstart-sa.adoc[]" guide.
--
====

== Messaging with Starlight for JMS

=== Retrieve connection properties in Astra Streaming

. While on the "Connect" tab in the Astra Streaming portal, the "pulsar" area will provide important connection information.
+
image:astra-streaming-connect-pulsar.png[Astra Streaming kafka settings]

. Scroll down and find the "Tenant Details" area to find your Pulsar connection information.
+
image:pulsar-client-settings.png[]

=== Produce and consume a message

This example uses Maven as the project structure. If you prefer gradle or another, this code should still be a good fit.

TIP: Visit our https://github.com/datastax/astra-streaming-examples[examples repo^]{external-link-icon} to see the complete source of this example.

. Create a new Maven project.
+
[source,shell]
----
include::{astra-streaming-examples-repo}/java/starlight-for-jms/create-project.sh[]
----

. Open the new project in your favorite IDE or text editor and add the jms dependency to "pom.xml".
+
[source,xml]
----
<dependency>
  <groupId>com.datastax.oss</groupId>
  <artifactId>pulsar-jms-all</artifactId>
  <version>1.0.0</version>
</dependency>
----

. Open the file "src/main/java/org/example/App.java" and replace the entire contents with the below code. Notice there are class variables that need replacing. Apply the values previously retrieved in Astra Streaming.
+
[source,java]
----
include::{astra-streaming-examples-repo}/java/starlight-for-jms/StarlightForJMSClient/src/main/java/org/example/App.java[tag=init-app]
----
+
NOTE: Don't worry if your editor shows errors, this isn't a complete program... yet.

. Bring in the following code to build the configuration that will be used by both the producer and consumer.
+
[source,java]
----
include::{astra-streaming-examples-repo}/java/starlight-for-jms/StarlightForJMSClient/src/main/java/org/example/App.java[tag=build-config]
----

. Now paste the following into the file. This is a very simple 'PulsarConnectionFactory' that first creates a jms queue using the full Pulsar topic address, then creates a message listener callback function that watches the queue. Finally, it produces a single message on the queue.
+
[source,java]
----
include::{astra-streaming-examples-repo}/java/starlight-for-jms/StarlightForJMSClient/src/main/java/org/example/App.java[tag=build-factory]
----

. Now you should have a complete program. Let's see it in action! Build and run the jar with the following terminal commands.
+
[source,shell]
----
mvn clean package assembly:single
java -jar target/StarlightForJMSClient-1.0-SNAPSHOT-jar-with-dependencies.jar
----

. If all goes as it should your output will be similar to this:
+
[source,shell]
----
Sending: Hello there!
Received: Hello there!
----

See how easy that was! You're already an app modernization ninja. Let's continue building those skills with a few other guides.

* xref:starlight-for-jms:examples:pulsar-jms-implementation.adoc[]
* xref:starlight-for-jms:reference:pulsar-jms-mappings.adoc[]
* xref:starlight-for-jms:reference:pulsar-jms-reference.adoc[]